
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>PCAtoCompleteEN</title><meta name="generator" content="MATLAB 9.1"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2020-11-23"><meta name="DC.source" content="PCAtoCompleteEN.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h2>Contents</h2><div><ul><li><a href="#2">sphere in 3d</a></li></ul></div><pre class="codeinput"><span class="comment">%Lamrous PCA program on notes</span>
[dataNum, datatext, alldata] = xlsread(<span class="string">'voiture.xls'</span>,<span class="string">'voiture2'</span>);
Data=dataNum(:,1:7);
Variables = datatext(1,2:8)
Individuals = datatext(2:31,1)

<span class="comment">%This allows you to generate a PCA</span>
<span class="comment">%Attention, in the latest versions of Matlab, the "princomp" function is</span>
<span class="comment">%called otherwise,try "pca"</span>

[coeff,scores,eigen_values] = pca(zscore(Data));

 coeff <span class="comment">% coordinates of variables in the projection space</span>
 scores <span class="comment">% coordinates of individuals in the projection space</span>
 eigen_values <span class="comment">% Eigenvalues</span>


<span class="comment">%The following command is used to create the graph of the eigenvalues.</span>

figure(<span class="string">'Name'</span>,<span class="string">'Eigenvalue spectrum'</span>,<span class="string">'NumberTitle'</span>,<span class="string">'off'</span>);
bar(eigen_values);
grid <span class="string">on</span>
<span class="comment">% And this gives us the cumulative inertias of the eigenvalues.</span>

Information_Percentage = cumsum(eigen_values)./sum(eigen_values)
figure(<span class="string">'Name'</span>,<span class="string">'% of cumulative inertia'</span>,<span class="string">'NumberTitle'</span>,<span class="string">'off'</span>);
bar(Information_Percentage);
grid <span class="string">on</span>

<span class="comment">% This command is used to produce the factorial map of individuals on</span>
<span class="comment">% the two main axes</span>

figure(<span class="string">'Name'</span>,<span class="string">'individus'</span>,<span class="string">'NumberTitle'</span>,<span class="string">'off'</span>);
plot(scores(:,1),scores(:,2),<span class="string">'r+'</span>);
text(scores(:,1),scores(:,2),Individuals);
a  = axis;
xl = a(1);xu = a(2);yl = a(3);yu = a(4);
xlabel(<span class="string">'1st Principal Component'</span>)
ylabel(<span class="string">'2nd Principal Component'</span>)
grid <span class="string">on</span>
hold <span class="string">on</span>
line([xl xu],[0 0])
line([0 0],[yl yu])
<span class="comment">%axis 1 axis 3</span>
figure(<span class="string">'Name'</span>,<span class="string">'individuals 1/3'</span>,<span class="string">'NumberTitle'</span>,<span class="string">'off'</span>);
plot(scores(:,1),scores(:,3),<span class="string">'r+'</span>);
text(scores(:,1),scores(:,3),Individuals);
a  = axis;
xl = a(1);xu = a(2);yl = a(3);yu = a(4);
xlabel(<span class="string">'1st Principal Component'</span>)
ylabel(<span class="string">'2nd Principal Component'</span>)
grid <span class="string">on</span>
hold <span class="string">on</span>
line([xl xu],[0 0])
line([0 0],[yl yu])
<span class="comment">%axis 2 axis 3</span>
figure(<span class="string">'Name'</span>,<span class="string">'individuals 2/3'</span>,<span class="string">'NumberTitle'</span>,<span class="string">'off'</span>);
plot(scores(:,1),scores(:,3),<span class="string">'r+'</span>);
text(scores(:,1),scores(:,3),Individuals);
a  = axis;
xl = a(1);xu = a(2);yl = a(3);yu = a(4);
xlabel(<span class="string">'1st Principal Component'</span>)
ylabel(<span class="string">'2nd Principal Component'</span>)
grid <span class="string">on</span>
hold <span class="string">on</span>
line([xl xu],[0 0])
line([0 0],[yl yu])
<span class="comment">% In 3D</span>
figure(<span class="string">'Name'</span>,<span class="string">'individuals 1 2 3'</span>,<span class="string">'NumberTitle'</span>,<span class="string">'off'</span>);
plot3(scores(:,1),scores(:,2),scores(:,3),<span class="string">'r+'</span>);
text(scores(:,1),scores(:,2),scores(:,3),Individuals);
a  = axis;
xl = a(1);xu = a(2);yl = a(3);yu = a(4);z1=a(5);zu=a(6);
xlabel(<span class="string">'1st Principal Component'</span>)
ylabel(<span class="string">'2nd Principal Component'</span>)
zlabel(<span class="string">'3nd Principal Component'</span>)
grid <span class="string">on</span>
hold <span class="string">on</span>
line([xl xu],[0, 0],[0, 0])
line([0 0],[yl yu],[0,0])
line([0 0],[0,0],[z1 zu])

<span class="comment">% This command is used to create the circle of variable correlations</span>
<span class="comment">% on the two main axes.</span>

figure(<span class="string">'Name'</span>,<span class="string">'Variables'</span>,<span class="string">'NumberTitle'</span>,<span class="string">'off'</span>);
plot(coeff(:,1),coeff(:,2),<span class="string">'*'</span>);
grid <span class="string">on</span>
hold <span class="string">on</span>
[x,y,z] = cylinder(1,200);
plot(x(1,:),y(1,:))
grid <span class="string">on</span>
hold <span class="string">on</span>
line([-1 1],[0 0])
line([0 0],[-1 1])
axis <span class="string">equal</span>
</pre><pre class="codeoutput">
Variables =

  1&times;7 cell array

  Columns 1 through 5

    'puissance'    'cylindree'    'vitesse'    'longueur'    'largeur'

  Columns 6 through 7

    'hauteur'    'poids'


Individuals =

  30&times;1 cell array

    'PANDA'
    'TWINGO'
    'YARIS'
    'CITRONC2'
    'CORSA'
    'FIESTA'
    'CLIO'
    'P1007'
    'MODUS'
    'MUSA'
    'GOLF'
    'MERC_A'
    'AUDIA3'
    'CITRONC4'
    'AVENSIS'
    'VECTRA'
    'PASSAT'
    'LAGUNA'
    'MEGANECC'
    'P407'
    'P307CC'
    'PTCRUISER'
    'MONDEO'
    'MAZDARX8'
    'VELSATIS'
    'CITRONC5'
    'P607'
    'MERC_E'
    'ALFA156'
    'BMW530'


coeff =

    0.4044   -0.0790   -0.5043   -0.4002    0.0680   -0.1920    0.6118
    0.3917    0.2147   -0.3307    0.8220    0.1197   -0.0303    0.0112
    0.4213   -0.1404   -0.2517   -0.2918    0.3433    0.4170   -0.6022
    0.4167   -0.0158    0.3717    0.0392   -0.4468    0.6291    0.3017
    0.3823    0.0587    0.6535   -0.0298    0.5698   -0.2889    0.1199
   -0.1179    0.9301   -0.0571   -0.2221    0.1345    0.2164    0.0587
    0.4146    0.2432    0.0676   -0.1649   -0.5664   -0.5121   -0.3926


scores =

   -4.0472    0.2824   -0.5296    0.0481   -0.1216    0.3029    0.1078
   -3.7200   -1.0909   -0.2811    0.3755    0.1383   -0.2749    0.0884
   -3.4453   -0.2319    0.0988   -0.1354    0.2159    0.0647    0.2326
   -3.1877   -0.5250    0.1005    0.0959    0.0690   -0.0397    0.0504
   -2.6235   -0.8177    0.0059    0.1814   -0.3447   -0.0025   -0.0766
   -2.1625   -0.6374    0.2909    0.3407   -0.4203   -0.2245   -0.1353
   -2.1306   -1.1847   -0.6300    0.1808   -0.0105    0.2220   -0.1137
   -2.4464    1.5375    0.0590   -0.3301    0.0567   -0.1076   -0.1199
   -1.5978    1.2096   -0.4389   -0.4081    0.4058    0.0795   -0.1168
   -1.4170    2.7378   -0.3200   -0.1589    0.1118    0.3307   -0.0248
   -1.0473    0.3197    0.8125    0.8790   -0.1021   -0.1917    0.2012
   -0.3368    1.5964   -0.3389   -0.3367    0.7666   -0.3685   -0.2073
   -0.6814   -0.7129    0.7360    0.1595    0.0895   -0.1510    0.0283
    0.4648   -0.1627    0.1755    0.0566    0.1404   -0.2251   -0.2237
    0.3866    0.1650    0.5991    0.2901   -0.5390    0.2982   -0.0223
    1.1160   -0.2073    0.4998   -0.2477   -0.0494    0.1825   -0.1116
    0.8168   -0.2523    0.1871   -0.4205   -0.3323    0.7483   -0.0814
    1.0447   -0.6974    0.1265   -0.0705    0.0584    0.3193    0.1251
    1.1246   -0.8829   -0.0716   -0.1577    0.1056   -0.1447   -0.3229
    1.1753   -0.2613    0.8485    0.0521   -0.0272    0.1909   -0.0602
    1.2105   -0.5931   -0.3689   -0.3629   -0.1441   -0.2267   -0.3059
    1.1419    1.0743   -1.2928   -0.2078   -0.6249   -0.5160    0.4434
    1.8907   -0.4868    1.8009    0.0097    0.8752   -0.1395    0.2392
    1.3463   -2.1830   -0.3105   -1.4109   -0.0593   -0.2084    0.1643
    1.9100    1.8172    1.1883   -0.2660   -0.4744   -0.1885    0.1114
    2.3613    0.2514   -0.4568   -0.1139   -0.3363    0.1506    0.1002
    3.1763    0.1294    0.1606    0.2307   -0.3763   -0.1982    0.0095
    3.5546    0.3838   -0.3855    0.7553   -0.1227   -0.1314   -0.3219
    2.7322   -0.7153   -1.8469    0.6783    0.4428    0.0772    0.0960
    3.3909    0.1379   -0.4185    0.2934    0.6091    0.3722    0.2466


eigen_values =

    5.0224
    1.0559
    0.4972
    0.1842
    0.1327
    0.0734
    0.0341


Information_Percentage =

    0.7175
    0.8683
    0.9394
    0.9657
    0.9846
    0.9951
    1.0000

</pre><img vspace="5" hspace="5" src="PCAtoCompleteEN_files/PCAtoCompleteEN_01.png" alt=""> <img vspace="5" hspace="5" src="PCAtoCompleteEN_files/PCAtoCompleteEN_02.png" alt=""> <img vspace="5" hspace="5" src="PCAtoCompleteEN_files/PCAtoCompleteEN_03.png" alt=""> <img vspace="5" hspace="5" src="PCAtoCompleteEN_files/PCAtoCompleteEN_04.png" alt=""> <img vspace="5" hspace="5" src="PCAtoCompleteEN_files/PCAtoCompleteEN_05.png" alt=""> <img vspace="5" hspace="5" src="PCAtoCompleteEN_files/PCAtoCompleteEN_06.png" alt=""> <img vspace="5" hspace="5" src="PCAtoCompleteEN_files/PCAtoCompleteEN_07.png" alt=""> <h2 id="2">sphere in 3d</h2><pre class="codeinput">figure(<span class="string">'Name'</span>,<span class="string">'Variables'</span>,<span class="string">'NumberTitle'</span>,<span class="string">'off'</span>);
plot3(coeff(:,1),coeff(:,2),coeff(:,3),<span class="string">'*'</span>);
grid <span class="string">on</span>
hold <span class="string">on</span>

[x,y,z] = sphere;
m = mesh(x, y, z);
set(m, <span class="string">'facecolor'</span>, <span class="string">'none'</span>);
text(coeff(:,1)+.1,coeff(:,2)+.1,coeff(:,3)+.1,Variables);
grid <span class="string">on</span>
hold <span class="string">on</span>
line([-1 1],[0 0],[0 0])
line([0 0],[-1 1],[0 0])
line([0,0],[0,0],[-1,1])
axis <span class="string">equal</span>
</pre><img vspace="5" hspace="5" src="PCAtoCompleteEN_files/PCAtoCompleteEN_08.png" alt=""> <p class="footer"><br><a href="http://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2016b</a><br></p></div><!--
##### SOURCE BEGIN #####
%Lamrous PCA program on notes
[dataNum, datatext, alldata] = xlsread('voiture.xls','voiture2');
Data=dataNum(:,1:7);
Variables = datatext(1,2:8)
Individuals = datatext(2:31,1)

%This allows you to generate a PCA
%Attention, in the latest versions of Matlab, the "princomp" function is
%called otherwise,try "pca"
 
[coeff,scores,eigen_values] = pca(zscore(Data));

 coeff % coordinates of variables in the projection space
 scores % coordinates of individuals in the projection space
 eigen_values % Eigenvalues
 
 
%The following command is used to create the graph of the eigenvalues.

figure('Name','Eigenvalue spectrum','NumberTitle','off'); 
bar(eigen_values);
grid on
% And this gives us the cumulative inertias of the eigenvalues.
 
Information_Percentage = cumsum(eigen_values)./sum(eigen_values)
figure('Name','% of cumulative inertia','NumberTitle','off'); 
bar(Information_Percentage);
grid on

% This command is used to produce the factorial map of individuals on
% the two main axes
 
figure('Name','individus','NumberTitle','off'); 
plot(scores(:,1),scores(:,2),'r+');
text(scores(:,1),scores(:,2),Individuals); 
a  = axis;
xl = a(1);xu = a(2);yl = a(3);yu = a(4);
xlabel('1st Principal Component')
ylabel('2nd Principal Component')
grid on
hold on
line([xl xu],[0 0])
line([0 0],[yl yu])
%axis 1 axis 3
figure('Name','individuals 1/3','NumberTitle','off'); 
plot(scores(:,1),scores(:,3),'r+');
text(scores(:,1),scores(:,3),Individuals); 
a  = axis;
xl = a(1);xu = a(2);yl = a(3);yu = a(4);
xlabel('1st Principal Component')
ylabel('2nd Principal Component')
grid on
hold on
line([xl xu],[0 0])
line([0 0],[yl yu])
%axis 2 axis 3
figure('Name','individuals 2/3','NumberTitle','off'); 
plot(scores(:,1),scores(:,3),'r+');
text(scores(:,1),scores(:,3),Individuals); 
a  = axis;
xl = a(1);xu = a(2);yl = a(3);yu = a(4);
xlabel('1st Principal Component')
ylabel('2nd Principal Component')
grid on
hold on
line([xl xu],[0 0])
line([0 0],[yl yu])
% In 3D
figure('Name','individuals 1 2 3','NumberTitle','off'); 
plot3(scores(:,1),scores(:,2),scores(:,3),'r+');
text(scores(:,1),scores(:,2),scores(:,3),Individuals); 
a  = axis;
xl = a(1);xu = a(2);yl = a(3);yu = a(4);z1=a(5);zu=a(6);
xlabel('1st Principal Component')
ylabel('2nd Principal Component')
zlabel('3nd Principal Component')
grid on
hold on
line([xl xu],[0, 0],[0, 0])
line([0 0],[yl yu],[0,0])
line([0 0],[0,0],[z1 zu])

% This command is used to create the circle of variable correlations
% on the two main axes.
 
figure('Name','Variables','NumberTitle','off'); 
plot(coeff(:,1),coeff(:,2),'*');
grid on  
hold on
[x,y,z] = cylinder(1,200);
plot(x(1,:),y(1,:))
grid on
hold on
line([-1 1],[0 0])
line([0 0],[-1 1])
axis equal
%% sphere in 3d
figure('Name','Variables','NumberTitle','off'); 
plot3(coeff(:,1),coeff(:,2),coeff(:,3),'*');
grid on  
hold on

[x,y,z] = sphere;
m = mesh(x, y, z);
set(m, 'facecolor', 'none');
text(coeff(:,1)+.1,coeff(:,2)+.1,coeff(:,3)+.1,Variables);
grid on
hold on
line([-1 1],[0 0],[0 0])
line([0 0],[-1 1],[0 0])
line([0,0],[0,0],[-1,1])
axis equal
##### SOURCE END #####
--></body></html>
